<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>元素详情 - 化学探索</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        /* 元素详情页面样式 */
        .element-header {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        /* 元素头部背景 */
        .element-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(13, 110, 253, 0.1), rgba(13, 110, 253, 0.05));
            z-index: 0;
        }

        /* 元素头部内容 */
        .element-header-content {
            position: relative;
            z-index: 1;
        }

        /* 元素符号 */
        .element-symbol {
            font-size: 8rem;
            font-weight: bold;
            text-align: center;
            margin: 0;
            line-height: 1;
        }

        /* 元素名称 */
        .element-name {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }

        /* 元素序号和原子量 */
        .element-info {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 20px 0;
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* 元素分类标签 */
        .element-category {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 10px;
        }

        /* 内容卡片 */
        .content-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        /* 卡片悬停效果 */
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }

        /* 卡片标题 */
        .card-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        /* 发现历史时间轴 */
        .discovery-timeline {
            position: relative;
            padding-left: 30px;
        }

        .discovery-timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 10px;
            width: 2px;
            height: 100%;
            background-color: #e9ecef;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            top: 5px;
            left: -30px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #0d6efd;
        }

        .timeline-date {
            font-weight: bold;
            color: #0d6efd;
        }

        /* 化学性质列表 */
        .property-list {
            list-style: none;
            padding: 0;
        }

        .property-item {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
        }

        .property-name {
            font-weight: bold;
            color: #333;
        }

        .property-value {
            color: #666;
        }

        /* 应用领域标签 */
        .application-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .application-tag {
            background-color: #e9ecef;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .application-tag:hover {
            background-color: #0d6efd;
            color: white;
            transform: scale(1.05);
        }

        /* 相关元素 */
        .related-elements {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .related-element {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .related-element:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* 元素类别样式 */
        .alkali-metal {
            background-color: #ffcccc;
            border: 2px solid #ff9999;
        }

        .alkaline-earth-metal {
            background-color: #ffe6cc;
            border: 2px solid #ffcc99;
        }

        .transition-metal {
            background-color: #ffffcc;
            border: 2px solid #ffcc66;
        }

        .post-transition-metal {
            background-color: #e6ffcc;
            border: 2px solid #b3ff66;
        }

        .metalloid {
            background-color: #ccffe6;
            border: 2px solid #66ffb3;
        }

        .nonmetal {
            background-color: #cce6ff;
            border: 2px solid #66b3ff;
        }

        .halogen {
            background-color: #e6ccff;
            border: 2px solid #b366ff;
        }

        .noble-gas {
            background-color: #ffcce6;
            border: 2px solid #ff66b3;
        }

        .lanthanoid {
            background-color: #ffcccc;
            border: 2px solid #ff6666;
        }

        .actinoid {
            background-color: #ccccff;
            border: 2px solid #6666ff;
        }

        /* 加载动画 */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #0d6efd;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .element-symbol {
                font-size: 5rem;
            }

            .element-name {
                font-size: 1.8rem;
            }

            .element-info {
                flex-direction: column;
                gap: 15px;
            }

            .content-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span class="logo-text">化学探索</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">首页</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="javascript:void(0)" id="elementDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            元素世界
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="elementDropdown">
                            <li><a class="dropdown-item" href="periodic-table.html">元素周期表</a></li>
                            <li><a class="dropdown-item" href="element-discovery.html">元素发现历史</a></li>
                            <li><a class="dropdown-item" href="element-categories.html">元素分类</a></li>
                            <li><a class="dropdown-item" href="element-detail.html">元素详情</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="javascript:void(0)" id="reactionDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            化学反应
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="reactionDropdown">
                            <li><a class="dropdown-item" href="javascript:void(0)">基本反应类型</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">氧化还原反应</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">酸碱反应</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">配位反应</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="javascript:void(0)" id="chemistryDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            化学分支
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="chemistryDropdown">
                            <li><a class="dropdown-item" href="javascript:void(0)">有机化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">无机化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">分析化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">物理化学</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="javascript:void(0)" id="applicationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            应用化学
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="applicationDropdown">
                            <li><a class="dropdown-item" href="javascript:void(0)">环境化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">医药化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">材料化学</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0)">能源化学</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">学习资源</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">登录/注册</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container py-5">
        <div id="loading" class="loading">
            <div class="spinner"></div>
        </div>

        <div id="element-content" style="display: none;">
            <!-- 元素头部信息 -->
            <div class="element-header">
                <div class="element-header-content">
                    <h1 class="element-symbol" id="element-symbol"></h1>
                    <h2 class="element-name" id="element-name"></h2>
                    <div class="element-info">
                        <div class="info-item">
                            <div class="info-label">原子序数</div>
                            <div class="info-value" id="atomic-number"></div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">原子量</div>
                            <div class="info-value" id="atomic-mass"></div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">周期</div>
                            <div class="info-value" id="period"></div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">族</div>
                            <div class="info-value" id="group"></div>
                        </div>
                    </div>
                    <div class="text-center">
                        <span class="element-category" id="element-category"></span>
                        <span class="element-category" id="element-origin" style="margin-left: 10px;"></span>
                    </div>
                </div>
            </div>

            <!-- 元素概述 -->
            <div class="content-card">
                <h3 class="card-title">元素概述</h3>
                <p id="element-description"></p>
            </div>

            <!-- 发现历史 -->
            <div class="content-card">
                <h3 class="card-title">发现历史</h3>
                <div class="discovery-timeline" id="discovery-history">
                    <!-- 发现历史内容将通过JavaScript动态生成 -->
                </div>
            </div>

            <!-- 化学性质 -->
            <div class="content-card">
                <h3 class="card-title">化学性质</h3>
                <ul class="property-list" id="chemical-properties">
                    <!-- 化学性质将通过JavaScript动态生成 -->
                </ul>
            </div>

            <!-- 物理性质 -->
            <div class="content-card">
                <h3 class="card-title">物理性质</h3>
                <ul class="property-list" id="physical-properties">
                    <!-- 物理性质将通过JavaScript动态生成 -->
                </ul>
            </div>

            <!-- 应用领域 -->
            <div class="content-card">
                <h3 class="card-title">应用领域</h3>
                <div class="application-tags" id="applications">
                    <!-- 应用领域将通过JavaScript动态生成 -->
                </div>
            </div>

            <!-- 相关元素 -->
            <div class="content-card">
                <h3 class="card-title">相关元素</h3>
                <div class="related-elements" id="related-elements">
                    <!-- 相关元素将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h3>关于项目</h3>
                    <p>这是一个基于Spring Cloud的化学学习微服务项目，旨在通过微服务架构实现化学知识的管理和学习进度的跟踪。</p>
                </div>
                <div class="col-md-4">
                    <h3>快速链接</h3>
                    <ul class="list-unstyled">
                        <li><a href="index.html">首页</a></li>
                        <li><a href="periodic-table.html">元素周期表</a></li>
                        <li><a href="element-discovery.html">元素发现历史</a></li>
                        <li><a href="element-categories.html">元素分类</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h3>联系方式</h3>
                    <p>如有问题或建议，请联系我们。</p>
                    <p>Email: contact@example.com</p>
                </div>
            </div>
            <div class="border-top border-gray-700 mt-4 pt-4 text-center">
                <p>&copy; 2026 化学学习微服务项目. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 从API获取元素数据
        async function fetchElementData(atomicNumber) {
            try {
                const response = await fetch(`/chemistry-service/elements/atomic/${atomicNumber}`);
                if (!response.ok) {
                    throw new Error('Failed to fetch element data');
                }
                const data = await response.json();
                
                // 转换API数据格式为前端所需格式
                return {
                    symbol: data.symbol,
                    name: data.name,
                    atomicMass: data.atomic_mass,
                    category: data.category,
                    period: data.period,
                    group: data.group,
                    isNatural: data.is_natural,
                    description: data.description || `${data.name}（${data.symbol}）是一种化学元素，原子序数为 ${atomicNumber}。`,
                    discovery: data.discovery_year ? [
                        { year: data.discovery_year.toString(), event: `由${data.discoverer || '未知'}发现` }
                    ] : [{ year: "未知", event: "发现历史未知" }],
                    chemicalProperties: [
                        { name: "氧化态", value: data.oxidation_states || "未知" },
                        { name: "常见形态", value: data.common_states || "未知" },
                        { name: "化学价值", value: data.chemical_value || "未知" },
                        { name: "商业价值", value: data.commercial_value || "未知" }
                    ],
                    physicalProperties: [
                        { name: "密度", value: data.density ? data.density : "未知" },
                        { name: "熔点", value: data.melting_point ? data.melting_point : "未知" },
                        { name: "沸点", value: data.boiling_point ? data.boiling_point : "未知" },
                        { name: "状态", value: data.common_states || "未知" },
                        { name: "颜色", value: "未知" }
                    ],
                    applications: data.applications ? data.applications.split('、') : ["未知"]
                };
            } catch (error) {
                console.error('Error fetching element data:', error);
                // 使用默认元素数据作为fallback
                return getDefaultElementData(atomicNumber);
            }
        }

        // 获取默认元素数据（作为fallback）
        function getDefaultElementData(atomicNumber) {
            // 元素基础数据映射
            const elementBaseData = {
                1: { symbol: "H", name: "氢", atomicMass: "1.008", category: "nonmetal", period: 1, group: 1, isNatural: true },
                2: { symbol: "He", name: "氦", atomicMass: "4.0026", category: "noble-gas", period: 1, group: 18, isNatural: true },
                3: { symbol: "Li", name: "锂", atomicMass: "6.94", category: "alkali-metal", period: 2, group: 1, isNatural: true },
                4: { symbol: "Be", name: "铍", atomicMass: "9.0122", category: "alkaline-earth-metal", period: 2, group: 2, isNatural: true },
                5: { symbol: "B", name: "硼", atomicMass: "10.81", category: "metalloid", period: 2, group: 13, isNatural: true },
                6: { symbol: "C", name: "碳", atomicMass: "12.011", category: "nonmetal", period: 2, group: 14, isNatural: true },
                7: { symbol: "N", name: "氮", atomicMass: "14.007", category: "nonmetal", period: 2, group: 15, isNatural: true },
                8: { symbol: "O", name: "氧", atomicMass: "15.999", category: "nonmetal", period: 2, group: 16, isNatural: true },
                9: { symbol: "F", name: "氟", atomicMass: "18.998", category: "halogen", period: 2, group: 17, isNatural: true },
                10: { symbol: "Ne", name: "氖", atomicMass: "20.180", category: "noble-gas", period: 2, group: 18, isNatural: true }
                // 可以根据需要扩展更多元素
            };
            
            // 获取元素基础数据，如果不存在则使用通用默认值
            const baseData = elementBaseData[atomicNumber] || {
                symbol: "?",
                name: `元素 ${atomicNumber}`,
                atomicMass: "未知",
                category: "nonmetal",
                period: Math.ceil(atomicNumber / 18),
                group: (atomicNumber % 18) || 18,
                isNatural: atomicNumber <= 92
            };
            
            // 生成默认元素数据
            return {
                symbol: baseData.symbol,
                name: baseData.name,
                atomicMass: baseData.atomicMass,
                category: baseData.category,
                categoryName: getCategoryName(baseData.category),
                period: baseData.period,
                group: baseData.group,
                isNatural: baseData.isNatural,
                origin: baseData.isNatural ? '天然' : '人工',
                description: `${baseData.name}（${baseData.symbol}）是一种化学元素，原子序数为 ${atomicNumber}。`,
                discovery: [
                    { year: "未知", event: "发现历史未知" }
                ],
                chemicalProperties: [
                    { name: "氧化态", value: "未知" },
                    { name: "常见形态", value: "未知" },
                    { name: "化学价值", value: "未知" },
                    { name: "商业价值", value: "未知" }
                ],
                physicalProperties: [
                    { name: "密度", value: "未知" },
                    { name: "熔点", value: "未知" },
                    { name: "沸点", value: "未知" },
                    { name: "状态", value: "未知" },
                    { name: "颜色", value: "未知" }
                ],
                applications: ["未知"],
                relatedElements: [
                    atomicNumber - 2 >= 1 ? atomicNumber - 2 : 1,
                    atomicNumber - 1 >= 1 ? atomicNumber - 1 : 2,
                    atomicNumber + 1 <= 118 ? atomicNumber + 1 : 117,
                    atomicNumber + 2 <= 118 ? atomicNumber + 2 : 118
                ]
            };
        }

        // 获取类别中文名称
        function getCategoryName(category) {
            const categoryMap = {
                'alkali-metal': '碱金属',
                'alkaline-earth-metal': '碱土金属',
                'transition-metal': '过渡金属',
                'post-transition-metal': '后过渡金属',
                'metalloid': '类金属',
                'nonmetal': '非金属',
                'halogen': '卤素',
                'noble-gas': '稀有气体',
                'lanthanoid': '镧系元素',
                'actinoid': '锕系元素'
            };
            return categoryMap[category] || category;
        }

        // 获取URL参数
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? 1 : parseInt(decodeURIComponent(results[1].replace(/\+/g, ' ')));
        }

        // 加载元素数据
        async function loadElementData() {
            const atomicNumber = getUrlParameter('atomicNumber');
            
            try {
                // 获取元素数据
                let element = await fetchElementData(atomicNumber);
                
                // 补充缺失的字段
                element.categoryName = getCategoryName(element.category);
                element.origin = element.isNatural ? '天然' : '人工';
                
                // 确保所有必要字段都存在
                element.discovery = element.discovery || [
                    { year: "未知", event: "发现历史未知" }
                ];
                
                element.chemicalProperties = element.chemicalProperties || [
                    { name: "氧化态", value: "未知" },
                    { name: "电负性", value: "未知" },
                    { name: "电离能", value: "未知" },
                    { name: "化学反应性", value: "未知" }
                ];
                
                element.physicalProperties = element.physicalProperties || [
                    { name: "密度", value: "未知" },
                    { name: "熔点", value: "未知" },
                    { name: "沸点", value: "未知" },
                    { name: "状态", value: "未知" },
                    { name: "颜色", value: "未知" }
                ];
                
                element.applications = element.applications || ["未知"];
                element.relatedElements = element.relatedElements || [];
                
                // 如果没有相关元素，生成一些默认的相关元素
                if (element.relatedElements.length === 0) {
                    // 生成同周期或同族的元素作为相关元素
                    const relatedElements = [];
                    const base = atomicNumber;
                    
                    // 添加前后几个元素
                    for (let i = Math.max(1, base - 2); i <= Math.min(118, base + 2); i++) {
                        if (i !== base) {
                            relatedElements.push(i);
                        }
                    }
                    
                    element.relatedElements = relatedElements.slice(0, 4);
                }

                // 隐藏加载动画，显示内容
                document.getElementById('loading').style.display = 'none';
                document.getElementById('element-content').style.display = 'block';

                // 填充元素基本信息
                document.getElementById('element-symbol').textContent = element.symbol;
                document.getElementById('element-name').textContent = element.name;
                document.getElementById('atomic-number').textContent = atomicNumber;
                document.getElementById('atomic-mass').textContent = element.atomicMass;
                document.getElementById('period').textContent = element.period;
                document.getElementById('group').textContent = element.group;
                document.getElementById('element-category').textContent = element.categoryName;
                document.getElementById('element-category').className = 'element-category ' + element.category;
                document.getElementById('element-origin').textContent = element.origin;
                document.getElementById('element-origin').style.backgroundColor = element.isNatural ? '#d4edda' : '#f8d7da';
                document.getElementById('element-origin').style.color = element.isNatural ? '#155724' : '#721c24';
                document.getElementById('element-description').textContent = element.description || '暂无描述信息';

                // 填充发现历史
                const discoveryHistory = document.getElementById('discovery-history');
                discoveryHistory.innerHTML = '';
                element.discovery.forEach(item => {
                    const timelineItem = document.createElement('div');
                    timelineItem.className = 'timeline-item';
                    timelineItem.innerHTML = `
                        <div class="timeline-date">${item.year}</div>
                        <div class="timeline-event">${item.event}</div>
                    `;
                    discoveryHistory.appendChild(timelineItem);
                });

                // 填充化学性质
                const chemicalProperties = document.getElementById('chemical-properties');
                chemicalProperties.innerHTML = '';
                element.chemicalProperties.forEach(property => {
                    const li = document.createElement('li');
                    li.className = 'property-item';
                    li.innerHTML = `
                        <span class="property-name">${property.name}</span>
                        <span class="property-value">${property.value}</span>
                    `;
                    chemicalProperties.appendChild(li);
                });

                // 填充物理性质
                const physicalProperties = document.getElementById('physical-properties');
                physicalProperties.innerHTML = '';
                element.physicalProperties.forEach(property => {
                    const li = document.createElement('li');
                    li.className = 'property-item';
                    li.innerHTML = `
                        <span class="property-name">${property.name}</span>
                        <span class="property-value">${property.value}</span>
                    `;
                    physicalProperties.appendChild(li);
                });

                // 填充应用领域
                const applications = document.getElementById('applications');
                applications.innerHTML = '';
                element.applications.forEach(app => {
                    const tag = document.createElement('span');
                    tag.className = 'application-tag';
                    tag.textContent = app;
                    applications.appendChild(tag);
                });

                // 填充相关元素
                const relatedElements = document.getElementById('related-elements');
                relatedElements.innerHTML = '';
                
                // 加载相关元素数据
                for (const relAtomicNumber of element.relatedElements) {
                    try {
                        const relElement = await fetchElementData(relAtomicNumber);
                        if (relElement) {
                            const relatedElement = document.createElement('div');
                            relatedElement.className = 'related-element ' + relElement.category;
                            relatedElement.onclick = () => navigateToElementDetail(relAtomicNumber);
                            relatedElement.innerHTML = `
                                <span style="font-size: 0.8rem; position: absolute; top: 5px; left: 5px;">${relAtomicNumber}</span>
                                <span style="font-size: 1.5rem;">${relElement.symbol}</span>
                                <span style="font-size: 0.7rem; margin-top: 5px;">${relElement.name}</span>
                            `;
                            relatedElements.appendChild(relatedElement);
                        }
                    } catch (err) {
                        console.error(`Error loading related element ${relAtomicNumber}:`, err);
                    }
                }
            } catch (error) {
                console.error('Error loading element data:', error);
                
                // 显示错误信息
                document.getElementById('loading').style.display = 'none';
                document.getElementById('element-content').style.display = 'block';
                document.getElementById('element-content').innerHTML = `
                    <div class="alert alert-danger text-center p-5">
                        <h4 class="alert-heading">加载失败</h4>
                        <p>无法加载元素数据，请稍后重试。</p>
                        <button class="btn btn-primary mt-3" onclick="window.location.reload()">重试</button>
                    </div>
                `;
            }
        }

        // 导航到元素详情页
        function navigateToElementDetail(atomicNumber) {
            window.location.href = `element-detail.html?atomicNumber=${atomicNumber}`;
        }

        // 页面加载时加载元素数据
        document.addEventListener('DOMContentLoaded', loadElementData);
    </script>
</body>
</html>
