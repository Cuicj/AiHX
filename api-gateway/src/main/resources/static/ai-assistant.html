<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI化学助手</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        .ai-section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .chat-container {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            background-color: #ffffff;
        }
        .chat-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 18px;
            max-width: 80%;
        }
        .user-message {
            background-color: #e3f2fd;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        .ai-message {
            background-color: #f1f1f1;
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }
        .typing-indicator {
            display: inline-flex;
            align-items: center;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            margin: 0 1px;
            background-color: #888;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) {
            animation-delay: -0.32s;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: -0.16s;
        }
        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            } 40% {
                transform: scale(1);
            }
        }
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span class="logo-text">化学探索</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">首页</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="elementDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            元素世界
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="elementDropdown">
                            <li><a class="dropdown-item" href="periodic-table.html">元素周期表</a></li>
                            <li><a class="dropdown-item" href="element-discovery.html">元素发现历史</a></li>
                            <li><a class="dropdown-item" href="element-categories.html">元素分类</a></li>
                            <li><a class="dropdown-item" href="element-detail.html">元素详情</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="reactionDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            化学反应
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="reactionDropdown">
                            <li><a class="dropdown-item" href="#">基本反应类型</a></li>
                            <li><a class="dropdown-item" href="#">氧化还原反应</a></li>
                            <li><a class="dropdown-item" href="#">酸碱反应</a></li>
                            <li><a class="dropdown-item" href="#">配位反应</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="chemistryDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            化学分支
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="chemistryDropdown">
                            <li><a class="dropdown-item" href="#">有机化学</a></li>
                            <li><a class="dropdown-item" href="#">无机化学</a></li>
                            <li><a class="dropdown-item" href="#">分析化学</a></li>
                            <li><a class="dropdown-item" href="#">物理化学</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="applicationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            应用化学
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="applicationDropdown">
                            <li><a class="dropdown-item" href="#">环境化学</a></li>
                            <li><a class="dropdown-item" href="#">医药化学</a></li>
                            <li><a class="dropdown-item" href="#">材料化学</a></li>
                            <li><a class="dropdown-item" href="#">能源化学</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">学习资源</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="ai-assistant.html">AI助手</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">登录/注册</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>AI化学助手</h1>
            <p>利用人工智能技术，为您提供化学知识问答、分子结构分析、化学反应预测等智能服务，助您更高效地学习和探索化学世界。</p>
            <a href="#features" class="btn btn-primary btn-lg">开始使用</a>
        </div>
    </section>

    <!-- Features Section -->
    <div class="container" id="features">
        <section class="section">
            <h2 class="section-title">AI功能模块</h2>
            <p class="text-center text-muted mb-6">智能化学学习工具，为您的化学探索之旅保驾护航</p>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="card feature-card fade-in delay-1">
                        <img src="https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=AI%20assistant%20chatbot%20chemistry%20tutor%20education&image_size=landscape_4_3" class="card-img-top" alt="AI化学助手">
                        <div class="card-header">
                            <h3 class="card-title">AI化学助手</h3>
                        </div>
                        <div class="card-body">
                            <p>智能问答系统，为您解答化学相关问题，提供详细的知识讲解和学习建议。</p>
                            <a href="#chat" class="btn btn-primary">开始对话</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card fade-in delay-2">
                        <img src="https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=molecular%20structure%20analysis%20chemistry%203D%20model&image_size=landscape_4_3" class="card-img-top" alt="分子结构分析">
                        <div class="card-header">
                            <h3 class="card-title">分子结构分析</h3>
                        </div>
                        <div class="card-body">
                            <p>分析分子结构，提供分子性质、键能、空间构型等详细信息，帮助您理解分子结构与性质的关系。</p>
                            <a href="#molecule" class="btn btn-primary">分析分子</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card fade-in delay-3">
                        <img src="https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=chemical%20reaction%20prediction%20chemistry%20laboratory&image_size=landscape_4_3" class="card-img-top" alt="化学反应预测">
                        <div class="card-header">
                            <h3 class="card-title">化学反应预测</h3>
                        </div>
                        <div class="card-body">
                            <p>预测化学反应产物、反应条件、反应机理等，帮助您理解和设计化学反应。</p>
                            <a href="#reaction" class="btn btn-primary">预测反应</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Chat Section -->
        <section class="section ai-section" id="chat">
            <h2 class="section-title">AI化学助手</h2>
            <div class="row">
                <div class="col-md-12">
                    <div class="chat-container" id="chatContainer">
                        <div class="chat-message ai-message">
                            <p>你好！我是AI化学助手，有什么可以帮您解答的化学问题吗？</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <div class="input-group">
                            <input type="text" class="form-control" id="questionInput" placeholder="请输入您的化学问题...">
                            <button class="btn btn-primary" id="sendButton">发送</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Molecule Analysis Section -->
        <section class="section ai-section" id="molecule">
            <h2 class="section-title">分子结构分析</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="moleculeInput" class="form-label">分子结构（SMILES格式）</label>
                        <input type="text" class="form-control" id="moleculeInput" placeholder="例如：CCO（乙醇）">
                    </div>
                    <button class="btn btn-primary" id="analyzeButton">分析分子</button>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">分析结果</h3>
                        </div>
                        <div class="card-body" id="moleculeResult">
                            <p>请输入分子结构并点击分析按钮。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reaction Prediction Section -->
        <section class="section ai-section" id="reaction">
            <h2 class="section-title">化学反应预测</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="reactionInput" class="form-label">反应物</label>
                        <input type="text" class="form-control" id="reactionInput" placeholder="例如：NaOH + HCl">
                    </div>
                    <button class="btn btn-primary" id="predictButton">预测反应</button>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">预测结果</h3>
                        </div>
                        <div class="card-body" id="reactionResult">
                            <p>请输入反应物并点击预测按钮。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Links -->
        <section class="section">
            <h2 class="section-title">快速链接</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">服务接口</h3>
                            <ul class="list-unstyled">
                                <li><a href="/api/chemistry/elements" class="text-primary">• 化学元素列表</a></li>
                                <li><a href="/api/user/users" class="text-primary">• 用户列表</a></li>
                                <li><a href="/api/progress/progresses" class="text-primary">• 学习进度列表</a></li>
                                <li><a href="/api/ai/health" class="text-primary">• AI服务健康检查</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">系统服务</h3>
                            <ul class="list-unstyled">
                                <li><a href="http://localhost:8761" target="_blank" class="text-primary">• Eureka Server</a></li>
                                <li><a href="http://localhost:8081/h2-console" target="_blank" class="text-primary">• Chemistry Service H2 Console</a></li>
                                <li><a href="http://localhost:8082/h2-console" target="_blank" class="text-primary">• User Service H2 Console</a></li>
                                <li><a href="http://localhost:8085/h2-console" target="_blank" class="text-primary">• Learning Progress Service H2 Console</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h3>关于项目</h3>
                    <p>这是一个基于Spring Cloud的化学学习微服务项目，旨在通过微服务架构实现化学知识的管理和学习进度的跟踪。</p>
                </div>
                <div class="col-md-4">
                    <h3>快速链接</h3>
                    <ul class="list-unstyled">
                        <li><a href="index.html">首页</a></li>
                        <li><a href="periodic-table.html">化学元素</a></li>
                        <li><a href="login.html">用户中心</a></li>
                        <li><a href="ai-assistant.html">AI助手</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h3>联系方式</h3>
                    <p>如有问题或建议，请联系我们。</p>
                    <p>Email: contact@example.com</p>
                </div>
            </div>
            <div class="border-top border-gray-700 mt-4 pt-4 text-center">
                <p>&copy; 2026 化学学习微服务项目. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/main.js"></script>
    <script src="js/ai-assistant.js"></script>
</body>
</html>